function displaySQLResults(results, isScanning = true) {
    const container = document.getElementById('sqlResults');
    let html = '';
    
    // åˆ†ç±»ç»“æœ
    const categories = {
        vulns: [],      // æ¼æ´ä¿¡æ¯
        databases: [],  // æ•°æ®åº“ä¿¡æ¯
        tables: [],     // æ•°æ®è¡¨ä¿¡æ¯
        columns: [],    // åˆ—ä¿¡æ¯
        data: [],       // æ•°æ®å†…å®¹
        info: [],       // æ™®é€šä¿¡æ¯
        errors: []      // é”™è¯¯ä¿¡æ¯
    };
    
    // å¯¹ç»“æœè¿›è¡Œåˆ†ç±»
    results.forEach(line => {
        if (line.includes('æ³¨å…¥ç‚¹') || line.includes('CRITICAL')) {
            categories.vulns.push(line);
        } else if (line.includes('available databases') || line.includes('Database:')) {
            categories.databases.push(line);
        } else if (line.includes('tables:') || line.includes('Table:')) {
            categories.tables.push(line);
        } else if (line.includes('columns:') || line.includes('Column:')) {
            categories.columns.push(line);
        } else if (line.includes('entries') || line.includes('rows')) {
            categories.data.push(line);
        } else if (line.includes('[-]') || line.includes('error')) {
            categories.errors.push(line);
        } else {
            categories.info.push(line);
        }
    });

    // æ˜¾ç¤ºæ¼æ´ä¿¡æ¯
    if (categories.vulns.length > 0) {
        html += `
            <div class="status-group">
                <div class="status-header">
                    å‘ç°æ¼æ´
                    ${isScanning ? createLoadingSpinner() : ''}
                </div>
                <div class="result-content">ğŸ”´ ${categories.vulns.join('\n')}</div>
            </div>
        `;
    }

    // æ˜¾ç¤ºæ•°æ®åº“ä¿¡æ¯
    if (categories.databases.length > 0) {
        html += `
            <div class="status-group">
                <div class="status-header">
                    æ•°æ®åº“ä¿¡æ¯
                    ${isScanning ? createLoadingSpinner() : ''}
                </div>
                <div class="result-content">ğŸ“ ${categories.databases.join('\n')}</div>
            </div>
        `;
    }

    // æ˜¾ç¤ºæ•°æ®è¡¨ä¿¡æ¯
    if (categories.tables.length > 0) {
        html += `
            <div class="status-group">
                <div class="status-header">
                    æ•°æ®è¡¨ä¿¡æ¯
                    ${isScanning ? createLoadingSpinner() : ''}
                </div>
                <div class="result-content">ğŸ“‹ ${categories.tables.join('\n')}</div>
            </div>
        `;
    }

    // æ˜¾ç¤ºåˆ—ä¿¡æ¯
    if (categories.columns.length > 0) {
        html += `
            <div class="status-group">
                <div class="status-header">
                    å­—æ®µä¿¡æ¯
                    ${isScanning ? createLoadingSpinner() : ''}
                </div>
                <div class="result-content">ğŸ“Š ${categories.columns.join('\n')}</div>
            </div>
        `;
    }

    // æ˜¾ç¤ºæ•°æ®å†…å®¹
    if (categories.data.length > 0) {
        html += `
            <div class="status-group">
                <div class="status-header">
                    æ•°æ®å†…å®¹
                    ${isScanning ? createLoadingSpinner() : ''}
                </div>
                <div class="result-content">ğŸ“ ${categories.data.join('\n')}</div>
            </div>
        `;
    }

    // æ˜¾ç¤ºæ™®é€šä¿¡æ¯
    if (categories.info.length > 0) {
        html += `
            <div class="status-group">
                <div class="status-header">
                    æ‰«æä¿¡æ¯
                    ${isScanning ? createLoadingSpinner() : ''}
                </div>
                <div class="result-content">â„¹ï¸ ${categories.info.join('\n')}</div>
            </div>
        `;
    }

    // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
    if (categories.errors.length > 0) {
        html += `
            <div class="status-group">
                <div class="status-header">
                    é”™è¯¯ä¿¡æ¯
                    ${isScanning ? createLoadingSpinner() : ''}
                </div>
                <div class="result-content">âš ï¸ ${categories.errors.join('\n')}</div>
            </div>
        `;
    }

    // å¦‚æœæ²¡æœ‰ç»“æœ
    if (!html) {
        html = `
            <div class="status-group">
                <div class="status-header">
                    æ‰«æç»“æœ
                    ${isScanning ? createLoadingSpinner() : ''}
                </div>
                <div class="result-content">æ­£åœ¨æ‰«æä¸­...</div>
            </div>
        `;
    }

    container.innerHTML = html;
} 